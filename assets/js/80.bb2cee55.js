(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{386:function(t,a,v){"use strict";v.r(a);var e=v(1),r=Object(e.a)({},function(){var t=this,a=t.$createElement,v=t._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"组件需求分析"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#组件需求分析","aria-hidden":"true"}},[t._v("#")]),t._v(" 组件需求分析")]),t._v(" "),v("h2",{attrs:{id:"input"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#input","aria-hidden":"true"}},[t._v("#")]),t._v(" input")]),t._v(" "),v("ol",[v("li",[t._v("支持 input,focus,blur,change 事件")]),t._v(" "),v("li",[t._v("存在 error,disabled,readOnly 等状态")])]),t._v(" "),v("h2",{attrs:{id:"toast"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#toast","aria-hidden":"true"}},[t._v("#")]),t._v(" toast")]),t._v(" "),v("ol",[v("li",[t._v("点击按钮弹出 toast，一定时间后自动关闭，也可手动关闭")]),t._v(" "),v("li",[t._v("手动关闭 toast 触发回调")]),t._v(" "),v("li",[t._v("页面不允许同时有两个 toast（如果在第一个 toast 自动关闭前再次点击按钮，则关闭之前的,再创建一个新的 toast）")]),t._v(" "),v("li",[t._v("用户使用 toast 组件的方式不同于其它组件。我们仅仅提供一个$toast接口，用户在其中填入各项参数（Element 的 MessageBox 也是这样设计的），为此我们需要使用插件")])]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v('// 使用 toast\n<g-button @click.native="showToast">弹出toast</g-button>\n\nshowToast() {\n    this.$toast(...)\n}\n')])])]),v("h2",{attrs:{id:"popover"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#popover","aria-hidden":"true"}},[t._v("#")]),t._v(" popover")]),t._v(" "),v("ol",[v("li",[t._v("用户可能在 popover 的容器元素上添加 click事件,然后希望点击 button 后能触发容器元素的 click 事件(利用事件冒泡机制),所以 popover 的内部元素的 click 不能用 stop 修饰符")]),t._v(" "),v("li",[t._v("点击按钮后显示 content-wrapper,然后点击其它位置隐藏 content-wrapper;")]),t._v(" "),v("li",[t._v("点击显示出来的 content-wrapper 不隐藏 content-wrapper (因为浏览网站者可能有复制文本内容的需求)")]),t._v(" "),v("li",[t._v("显示出来的 content-wrapper 有一个关闭键,点击关闭 content-wrapper")]),t._v(" "),v("li",[t._v("button 支持 click,hover 两种事件")]),t._v(" "),v("li",[t._v("popover 与 toast 的共同点在于:都可通过点击按钮弹出，都可手动关闭")]),t._v(" "),v("li",[t._v("popover 与 toast 的区别在于:\n"),v("ul",[v("li",[t._v("如果弹出 toast 后再次点击按钮，那么将关闭旧的 toast 并创建一个新的 toast")]),t._v(" "),v("li",[t._v("如果弹出 popover 后再次点击按钮，那么仅关闭当前的 popover")]),t._v(" "),v("li",[t._v("手动关闭 toast 会触发 callback")]),t._v(" "),v("li",[t._v("手动关闭 popover 不会触发 callback")]),t._v(" "),v("li",[t._v('toast 没有设置"点击 toast 以外其他位置关闭 toast"')]),t._v(" "),v("li",[t._v("toast 不会自动关闭")])])])]),t._v(" "),v("h2",{attrs:{id:"slides"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#slides","aria-hidden":"true"}},[t._v("#")]),t._v(" slides")]),t._v(" "),v("ol",[v("li",[t._v("不采用有缝轮播（无法直接从3到1，不好）")]),t._v(" "),v("li",[t._v("支持点击 dot 切换 slide-item")]),t._v(" "),v("li",[t._v("支持 mouseenter 暂停动画；mouseouter 继续播放")]),t._v(" "),v("li",[t._v("支持自动播放")]),t._v(" "),v("li",[t._v("支持移动端（touch 事件）")])]),t._v(" "),v("h2",{attrs:{id:"nav"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#nav","aria-hidden":"true"}},[t._v("#")]),t._v(" nav")]),t._v(" "),v("ol",[v("li",[t._v("navs 默认单选")]),t._v(" "),v("li",[t._v("nav 如何获取 popover 里面的 nav-item=>通过依赖注入（root）实现跨级调用")]),t._v(" "),v("li",[t._v('"数据接口"要知道自己后代中的"期货数据"被选中了，这样才能在子级导航栏关闭后"数据接口"呈现被选中的样子')]),t._v(" "),v("li",[t._v('由于多级导航栏的存在，"选中"和"打开"是两个概念。可能选中不打开（因为没有子级导航栏），也可能打开不选中（刚打开子级导航栏）')]),t._v(" "),v("li",[t._v("sub-nav的title 是不能被选中的，只能被打开")]),t._v(" "),v("li",[t._v("点击 sub-nav,nav-item 以外的其他位置，关闭 sub-nav,nav-item（用clickOutside指令实现）")])]),t._v(" "),v("h2",{attrs:{id:"pager"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#pager","aria-hidden":"true"}},[t._v("#")]),t._v(" pager")]),t._v(" "),v("ol",[v("li",[t._v("第一页显示，最后一页显示，当前页与前后两页显示，共7页")]),t._v(" "),v("li",[t._v("如果总页数<7,则全部显示")]),t._v(" "),v("li",[t._v("用户可以选择当前页的前一页/后一页，可以选择指定页")]),t._v(" "),v("li",[t._v("每页选择多少条不由pager负责")]),t._v(" "),v("li",[t._v("当前页不可点击")])]),t._v(" "),v("h2",{attrs:{id:"validator"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#validator","aria-hidden":"true"}},[t._v("#")]),t._v(" validator")]),t._v(" "),v("ol",[v("li",[t._v("两种验证方式\n"),v("ul",[v("li",[t._v("即时验证:邮箱格式不对")]),t._v(" "),v("li",[t._v("异步验证:用户名被占用（需要后端查验）")])])]),t._v(" "),v("li",[t._v("邮箱验证\n"),v("ul",[v("li",[t._v("@前后不用验证")]),t._v(" "),v("li",[t._v("正则:/.+@.+/")])])]),t._v(" "),v("li",[t._v("手机验证\n"),v("ul",[v("li",[t._v("1开头,接10个数字")])])]),t._v(" "),v("li",[t._v("errors 优先级\n"),v("ul",[v("li",[t._v("required 最高。即不会出现 errors={required:'必填',pattern:'格式不正确',...}")]),t._v(" "),v("li",[t._v("pattern,minLength 同级。即可能出现 errors={pattern:'格式不正确',minLength:'太短'}")])])]),t._v(" "),v("li",[t._v("如果 pattern 正确，那么 errors['email']['pattern']应该是 undefiend(即不存在)，而不应该是{}")]),t._v(" "),v("li",[t._v("如果 email 正确，那么 errors['email']应该是 undefiend，而不应该是{}")]),t._v(" "),v("li",[t._v("没有任何错误的情况下，errors 应该为{}")]),t._v(" "),v("li",[t._v("不存在的规则,报错")]),t._v(" "),v("li",[t._v("用户可以自定义规则")]),t._v(" "),v("li",[t._v("提供向validator添加公共方法的接口")])]),t._v(" "),v("h2",{attrs:{id:"table"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#table","aria-hidden":"true"}},[t._v("#")]),t._v(" table")]),t._v(" "),v("blockquote",[v("p",[t._v("数据排序由后端实现\n前端永远拿不到所有数据，否则浏览器会炸掉")])]),t._v(" "),v("ol",[v("li",[t._v("展示数据（带边框，紧/松，单双）")]),t._v(" "),v("li",[t._v("选中数据（单选/全选/半选）\n"),v("ul",[v("li",[t._v("判断用户是否选中所有数据不能用 return this.dataSource.length === this.selectedItems.length")]),t._v(" "),v("li",[t._v("应该去判断两个数组的元素id是否完全一致")])])]),t._v(" "),v("li",[t._v("展示排序\n"),v("ul",[v("li",[t._v("height 不排序，name 升序，score 由用户选择排序方式")])]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("orderBy:{\n  name:'asc', \n  score:true\n},\n")])])])]),t._v(" "),v("li",[t._v("固定表头\n"),v("ul",[v("li",[t._v("用户传递一个height:包含表头的高度")]),t._v(" "),v("li",[t._v("用户给出各列宽度，而不是直接指定整个table的宽度。")])])]),t._v(" "),v("li",[t._v("行可展开")])]),t._v(" "),v("h2",{attrs:{id:"sticky"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#sticky","aria-hidden":"true"}},[t._v("#")]),t._v(" sticky")]),t._v(" "),v("ul",[v("li",[t._v("与顶部距离扩大到一定程度时不再扩大\n"),v("ul",[v("li",[t._v("distance:粘滞位置距离窗口顶部的距离")])])])]),t._v(" "),v("h2",{attrs:{id:"uploader"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#uploader","aria-hidden":"true"}},[t._v("#")]),t._v(" uploader")]),t._v(" "),v("ol",[v("li",[t._v("支持自动上传和手动上传")]),t._v(" "),v("li",[t._v("对于文件/图片列表，可显示进度（真/假），及删除文件/图片\n"),v("ul",[v("li",[t._v("进度信息由浏览器提供")])])]),t._v(" "),v("li",[t._v("支持拖曳上传")]),t._v(" "),v("li",[t._v("对于头像上传，不需要列表")])])])},[],!1,null,null,null);a.default=r.exports}}]);